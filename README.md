# Panchang WhatsApp Messaging Service

## Overview
This project provides a Flask-based web application for sending WhatsApp messages using Twilioâ€™s API. The messages include daily Panchang details and optionally an audio file to enhance user experience.

## Features
- Sends formatted WhatsApp messages with Panchang details:
  - Date and Time
  - Vaara (Day of the Week)
  - Tithi (Lunar Phase Details)
  - Nakshatra (Constellation Details)
- Sends an audio file (MP3) via WhatsApp along with the text message.
- Publicly accessible using `ngrok` for testing and development.

## Prerequisites
### Installed Tools
- [Python 3.x](https://www.python.org/downloads/)
- [Flask](https://flask.palletsprojects.com/)
- [Twilio Python SDK](https://www.twilio.com/docs/libraries/python)
- [ngrok](https://ngrok.com/) (for public-facing URLs)
- [dotenv](https://pypi.org/project/python-dotenv/) (for environment variable management)

### Required Accounts
- Twilio Account with WhatsApp API sandbox configured.
- `ngrok` account for consistent public URL setup.

### Environment Variables
Create a `.env` file in the project root and include the following:
```
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886
```

## Setup and Installation
1. Clone the repository:
   ```zsh
   git clone https://github.com/your-username/panchang-whatsapp.git
   cd panchang-whatsapp
   ```

2. Install dependencies:
   ```zsh
   pip install -r requirements.txt
   ```

3. Set up environment variables:
   - Copy `.env.example` to `.env` and update with your credentials.

4. Start the Flask application:
   ```zsh
   python app.py
   ```

5. Start `ngrok`:
   - Open a new terminal session.
   - Navigate to the project root folder.
   - Run the following command to expose your Flask application:
     ```zsh
     ngrok http --url=purely-actual-marmoset.ngrok-free.app 8080
     ```
   - Ensure this terminal session remains open while using the application.
   - Check the requests using the Web Interface
   - Check for this line! This link is the public facing address. Forwarding                    https://purely-actual-marmoset.ngrok-free.app -> [local link]

6. Monitor the Twilio Whatsapp Sanbox [here](https://console.twilio.com/us1/develop/sms/try-it-out/whatsapp-learn?frameUrl=%2Fconsole%2Fsms%2Fwhatsapp%2Flearn%3Fx-target-region%3Dus1)

7. Verify the public URL generated by `ngrok`:
   - Open the browser and navigate to:
     ```
     https://purely-actual-marmoset.ngrok-free.app
     ```

8. Test the application:
   - Confirm that the static files (e.g., MP3) are accessible using the `ngrok` URL.
